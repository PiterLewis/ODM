---------------------------------------------------------------------
---------------------------------------------------------------------

Testing Mongo DB queries:

- Primero creamos cluster de prueba en Atlas.
- Luego creamos una base de datos llamada "testing" y agregamos una coleccion de sample data.
- Abrimos Compass, nos conectamos a la bbdd.
- Abrimos shell de mongo y hacemos 'use sample_airbnb' para usar esa bbdd.


Un ejemplo de query que ejecutamos es:
db.listingsAndReviews.find({price:{$lte:50}}) # busca listings con precio menor o igual a 50
db.listingsAndReviews.countDocuments({price:{$lte:50}}) # cuenta cuantos listings cumplen esa condicion

-----------------------------------------------------------------------
-----------------------------------------------------------------------


Mostrar cines cerca de una ubicacion dada.
db.theaters.find({
  "location.geo": {
    $near: {
      $geometry: { type: "Point", coordinates: [ -105.25302, 40.01675 ] },
      $maxDistance: 10000 
    }
  }
})

db.movies.updateOne({$text: {$search: "\"Star Wars\""}}, {$push: {genres: "Drama"}})

db.movies.updateMany({$text: {$search: "corner"}}, {$push: {genres: "Drama" }})

db.movies.createIndex({ title: "text", plot: "text" })

db.movies.countDocuments({$text: {$search: "Star Wars"}})   



Instalacion y deploy de tests:

uv add --dev pytest

uv run pytest ./ODM_tests.py

